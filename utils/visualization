"""
Simplified visualization functions
"""

import plotly.graph_objects as go
import plotly.express as px
import pandas as pd
import numpy as np

def create_forecast_chart(months, predictions, title="Energy Forecast"):
    """
    Create a simple forecast chart
    """
    fig = go.Figure()
    
    fig.add_trace(go.Scatter(
        x=months,
        y=predictions,
        mode='lines+markers',
        name='Forecast',
        line=dict(color='#2E86AB', width=3),
        marker=dict(size=8)
    ))
    
    fig.update_layout(
        title=title,
        xaxis_title="Month",
        yaxis_title="Consumption (kWh)",
        template="plotly_white",
        height=400
    )
    
    return fig

def create_appliance_pie_chart(appliance_data):
    """
    Create appliance consumption pie chart
    """
    if not appliance_data:
        return None
    
    df = pd.DataFrame(appliance_data)
    fig = px.pie(df, values='kwh', names='name', title="Appliance Consumption")
    fig.update_traces(textposition='inside', textinfo='percent+label')
    
    return fig

def create_savings_bar_chart(current, optimized, savings):
    """
    Create savings comparison bar chart
    """
    categories = ['Current', 'Optimized', 'Savings']
    values = [current, optimized, savings]
    colors = ['#A23B72', '#2E86AB', '#73AB84']
    
    fig = go.Figure(data=[
        go.Bar(x=categories, y=values, marker_color=colors)
    ])
    
    fig.update_layout(
        title="Cost Savings Analysis",
        yaxis_title="Amount (â‚¹)",
        height=300
    )
    
    return fig
